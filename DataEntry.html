<html>
<head>
    <title>Profile page</title>
</head>
<style>
    form {
        width: 800px;
        border: 1px solid black;
        background-color: #e5e5e5;
    }

    h1 {
        text-align: center;
        color: black;
        font-family: arial;
        font-variant: small-caps;
    }

    input, select {
        font-size: .75em;
        font-family: arial;

    }

    label {
        font-variant: small-caps;
        font-family: arial;
    }

    mybutton {
        position: absolute;
        allign: center;

    }

</style>

<body>
<form action="http://localhost:5000/dataentry" method="POST">
    <h1>USER REGISTRATION FORM</h1>
    <table>
        <tr>
            <td>
                <table>
                    <tr>
                        <td>
                            <label for="name">name</label></td>
                        <td>
                            <input type="text" id="name" name="name"/><br></td>
                    </tr>
                    <tr>
                        <td>
                            <label for="lastname">lastname</label></td>
                        <td><input type="text" id="lastname" name="lastname"/><br></td>
                    </tr>
                    <tr>
                        <td>
                            <label for="gender">gender</label></td>
                        <td>
                            <input type="radio" name="gender" value="male" checked/>male
                            <input type="radio" name="gender" value="female"/>female<br></td>
                    </tr>
                    <tr>
                        <td>
                            <label for="age">age</label></td>
                        <td><input type="number" name="age" value="age"/></br>
                        </td>
                    </tr>
                    <tr>
                        <td>
                            <label for="address">address</label></td>
                        <td><input type="text" id="address" name="address"/><br></td>
                    </tr>
                    <tr>
                        <td>
                            <label for="phone">Phone Number</label></td>
                        <td>
                            <input type="number" id="phone" name="phone" min="0"/><br></td>
                    </tr>
                    <tr>
                        <td>
                            <label for="aadhar">adhar card number</label></td>
                        <td><input type="number" id="aadhar" name="aadhar"/><br></td>
                    </tr>

                    <tr>
                        <td>
                            <label for="mail">mail id</label></td>
                        <td><input type="mail" id="mail" name="mail"/><br></td>
                    </tr>
                    <tr>
                        <td><input type="submit" value="submit"></td>
                        <td><input type="reset" value="reset"></td>
                    </tr>

                    </div>
                </table>
            </td>
            <td>
                <table border="2" width="50">
                    <tr>
                        <td width="40">
                            <video id="video" width="100" height="100" autoplay></video>
                            <input type="button" id="snap" value="Snap"></input>
                            <input type="hidden" id="img" name="img"/>
                            <canvas id="canvas" width="100" height="100"></canvas>
                        </td>
                </table>
            </td>
        </tr>
    </table>
</form>
</body>
<script>

    var video = document.getElementById('video');

    // Get access to the camera!
    if (navigator.mediaDevices && navigator.mediaDevices.getUserMedia) {
        // Not adding `{ audio: true }` since we only want video now
        navigator.mediaDevices.getUserMedia({video: true}).then(function (stream) {
            //video.src = window.URL.createObjectURL(stream);
            video.srcObject = stream;
            video.play();
        });
    }

    const btn = document.getElementById("snap");
    btn.disabled = false;

    btn.onclick = e => {
        takeASnap()
    };
    var canvas = document.getElementById('canvas');
    var context = canvas.getContext('2d');
    var video = document.getElementById('video');

    function takeASnap() {
        context.drawImage(video, 0, 0, 100, 100);
        dataURL = canvas.toDataURL()
        document.getElementById('img').value = dataURL
   }

</script>

</html>